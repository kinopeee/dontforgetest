# テスト観点表（自動生成）

- 生成日時: 2025-12-23T03:47:50.051Z
- 対象: 未コミット差分 (Staged（git add 済み）)
- 対象ファイル:
- src/test/suite/commands/runWithArtifacts.test.ts
- src/test/suite/core/artifacts.test.ts
- src/test/suite/core/testRunner.test.ts
- src/test/suite/extension.test.ts

---

| Case ID | Input / Precondition | Perspective (Equivalence / Boundary) | Expected Result | Notes |
|:---|:---|:---|:---|:---|
| **runWithArtifacts** | | | | |
| TC-CMD-01 | 設定: 全機能有効（観点表生成=ON, テスト実行=有効なコマンド）<br>Provider: 正常応答 | 等価クラス – 正常系 | 観点表と実行レポートの両方が生成・保存されること。 | - |
| TC-CMD-02 | 設定: 観点表生成無効（観点表生成=OFF） | 等価クラス – 機能フラグ | 観点表の生成がスキップされること（ファイル作成なし）。実行レポートは保存されること。 | - |
| TC-CMD-03 | 設定: テストコマンドが空文字 (`""`) | 境界値 – 空入力 | テスト実行がスキップされること（レポート作成なし）。警告ログが出力されること。 | - |
| TC-CMD-04 | 設定: テストコマンドが失敗する（exit code 1） | 等価クラス – 異常系（テスト失敗） | `exitCode: 1` を含む実行レポートが保存されること。 | - |
| TC-CMD-05 | Provider: 観点表生成中に失敗（exit code 1） | 等価クラス – 異常系（Provider失敗） | 失敗ログと終了コードを含む観点表ファイルが保存されること。 | - |
| TC-CMD-06 | 設定: VS Code起動コマンドを検出（例: `npm test` が `vscode-test` を呼ぶ） | 等価クラス – 安全性スキップ | 再帰的なVS Code起動を防ぐため、テスト実行がスキップされ警告ログが出ること。 | 実装コードには存在するが、今回のテストコード差分にはテストケース未実装 |
| **Artifacts Core** | | | | |
| TC-ART-01 | 設定: デフォルト設定またはユーザー設定 | 等価クラス – 設定取得 | 適切な型（boolean, string）で設定値が取得できること。 | - |
| TC-ART-02 | 入力: 特定の日時オブジェクト | 等価クラス – フォーマット | `YYYYMMDD_HHmmss` 形式の文字列が返されること。 | - |
| TC-ART-03 | 入力: 絶対パス | 等価クラス – パス解決 | 入力の絶対パスがそのまま返されること。 | - |
| TC-ART-04 | 入力: 相対パス | 等価クラス – パス解決 | ワークスペースルートと結合された絶対パスが返されること。 | - |
| TC-ART-05 | 入力: 空文字 (`""`) | 境界値 – 空入力 | ワークスペースルートのパスが返されること。 | - |
| TC-ART-06 | 入力: 観点表Markdown用の有効データ | 等価クラス – Markdown生成 | タイトル、対象ラベル、コンテンツテーブルを含むMarkdownが生成されること。 | - |
| TC-ART-07 | 入力: 対象ファイルリストが空 | 境界値 – 空リスト | 対象ファイル欄に「(なし)」と表示されること。 | - |
| TC-ART-08 | 入力: 実行レポート用の正常結果データ | 等価クラス – Markdown生成 | タイトル、`exitCode: 0`、標準出力ブロックが含まれること。 | - |
| TC-ART-09 | 入力: `errorMessage` を含む結果データ | 等価クラス – エラー報告 | エラーメッセージの行（spawn error）が含まれること。 | - |
| TC-ART-10 | 入力: 標準出力/エラー出力が空 | 境界値 – 空出力 | 内容が空のコードブロックが含まれること。 | - |
| TC-ART-11 | 操作: 観点表の保存 | 等価クラス – ファイルI/O | 指定パスにファイルが作成され、内容が期待通りであること。 | - |
| TC-ART-12 | 操作: 実行レポートの保存 | 等価クラス – ファイルI/O | 指定パスにファイルが作成され、内容が期待通りであること。 | - |
| **Test Runner** | | | | |
| TC-RUN-01 | コマンド: シンプルなechoコマンド（正常） | 等価クラス – 正常実行 | `exitCode: 0` で終了し、標準出力に期待値が含まれること。 | - |
| TC-RUN-02 | コマンド: 存在しないコマンド | 等価クラス – 異常系（Spawnエラー） | exitCodeが非0、または `errorMessage` が設定されること。 | - |
| TC-RUN-03 | コマンド: `exit 1` を実行 | 等価クラス – 異常系（プロセス失敗） | `exitCode: 1` が返されること。 | - |
| TC-RUN-04 | コマンド: 大量出力を生成 (> 5MB) | 境界値 – サイズ制限 | 出力が切り詰められ、切り詰めメッセージが含まれること。 | - |
| **Extension** | | | | |
| TC-EXT-03 | コンテキスト: 拡張機能の有効化 | 等価クラス – コマンド登録 | 新規追加の `testgen-agent.openPanel` を含む全コマンドが登録されていること。 | - |
