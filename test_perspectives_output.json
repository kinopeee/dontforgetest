<!-- BEGIN TEST PERSPECTIVES JSON -->
{
  "version": 1,
  "cases": [
    {
      "caseId": "TC-PKG-01",
      "inputPrecondition": "package.json file exists in extension directory",
      "perspective": "Equivalence – normal",
      "expectedResult": "Version field is 0.0.67 (matches current version)",
      "notes": "Validates version synchronization in package.json"
    },
    {
      "caseId": "TC-PKG-02",
      "inputPrecondition": "package-lock.json file exists in extension directory",
      "perspective": "Equivalence – normal",
      "expectedResult": "Version field in root and packages[''] is 0.0.67",
      "notes": "Validates version synchronization in package-lock.json"
    },
    {
      "caseId": "TC-PKG-03",
      "inputPrecondition": "package.json file does not exist",
      "perspective": "Boundary – null",
      "expectedResult": "File read operation throws ENOENT error",
      "notes": "Error handling for missing package.json"
    },
    {
      "caseId": "TC-PKG-04",
      "inputPrecondition": "package-lock.json file does not exist",
      "perspective": "Boundary – null",
      "expectedResult": "File read operation throws ENOENT error",
      "notes": "Error handling for missing package-lock.json"
    },
    {
      "caseId": "TC-PKG-05",
      "inputPrecondition": "package.json contains invalid JSON syntax",
      "perspective": "Equivalence – error",
      "expectedResult": "JSON.parse throws SyntaxError",
      "notes": "Error handling for malformed JSON"
    },
    {
      "caseId": "TC-PKG-06",
      "inputPrecondition": "package.json version field is missing",
      "perspective": "Boundary – null",
      "expectedResult": "Version field is undefined",
      "notes": "Handles missing version field gracefully"
    },
    {
      "caseId": "TC-PKG-07",
      "inputPrecondition": "package.json version field is empty string",
      "perspective": "Boundary – empty",
      "expectedResult": "Version field is empty string",
      "notes": "Handles empty version string"
    },
    {
      "caseId": "TC-PKG-08",
      "inputPrecondition": "package-lock.json packages[''] is missing",
      "perspective": "Boundary – null",
      "expectedResult": "packages[''] is undefined, test handles gracefully",
      "notes": "Handles missing packages[''] field"
    },
    {
      "caseId": "TC-CSS-01",
      "inputPrecondition": "Provider initialized with valid context",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains @keyframes pulse-opacity animation definition with 0%, 100% { opacity: 1; } and 50% { opacity: 0.75; }",
      "notes": "Validates pulse-opacity animation keyframes are defined"
    },
    {
      "caseId": "TC-CSS-02",
      "inputPrecondition": "Provider initialized with valid context",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains @keyframes progress-slide animation definition with 0% { background-position: 0% 0; } and 100% { background-position: 200% 0; }",
      "notes": "Validates progress-slide animation keyframes are defined"
    },
    {
      "caseId": "TC-CSS-03",
      "inputPrecondition": "Provider initialized with valid context",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML does not contain @keyframes glow animation definition",
      "notes": "Validates that glow animation is not used (implementation uses pulse-opacity and progress-slide)"
    },
    {
      "caseId": "TC-CSS-04",
      "inputPrecondition": "Provider initialized with valid context",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains button.running class style definition with VS Code theme variables (background-color: var(--vscode-button-secondaryBackground)) and animation: pulse-opacity 2s ease-in-out infinite",
      "notes": "Validates running button uses VS Code theme variables and pulse-opacity animation"
    },
    {
      "caseId": "TC-CSS-05",
      "inputPrecondition": "Provider initialized with valid context",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains button.running:hover style definition with background-color: var(--vscode-button-secondaryHoverBackground)",
      "notes": "Validates hover state uses VS Code theme variable"
    },
    {
      "caseId": "TC-N-06",
      "inputPrecondition": "Provider initialized with valid context, HTML generated",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains updateButtonState function with classList.add('running') call",
      "notes": "Validates button state management uses classList.add instead of inline styles"
    },
    {
      "caseId": "TC-N-07",
      "inputPrecondition": "Provider initialized with valid context, HTML generated",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains updateButtonState function with classList.remove('running') call",
      "notes": "Validates button state management uses classList.remove instead of inline styles"
    },
    {
      "caseId": "TC-N-08",
      "inputPrecondition": "Provider initialized with valid context, HTML generated",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains button text '✨ テスト作成中 (中断)' when running state is set",
      "notes": "Validates button text includes emoji character when running"
    },
    {
      "caseId": "TC-N-09",
      "inputPrecondition": "Provider initialized with valid context, HTML generated",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains button text 'テスト生成' when not running",
      "notes": "Validates default button text is correct"
    },
    {
      "caseId": "TC-N-10",
      "inputPrecondition": "Provider initialized with valid context, HTML generated",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains animation: shimmer 2s linear infinite, glow 1.5s ease-in-out infinite",
      "notes": "Validates running button has correct animation properties"
    },
    {
      "caseId": "TC-N-11",
      "inputPrecondition": "Provider initialized with valid context, HTML generated",
      "perspective": "Equivalence – normal",
      "expectedResult": "HTML contains animation: shimmer 1.5s linear infinite, glow 1s ease-in-out infinite for hover state",
      "notes": "Validates hover state has faster animation timing"
    },
    {
      "caseId": "TC-E-01",
      "inputPrecondition": "Provider initialized, updateButtonState called with null runBtn element",
      "perspective": "Boundary – null",
      "expectedResult": "Throws TypeError or handles gracefully (getElementById returns null)",
      "notes": "Error handling for null DOM element (tested in browser environment)"
    },
    {
      "caseId": "TC-E-02",
      "inputPrecondition": "Provider initialized, updateButtonState called with undefined runBtn",
      "perspective": "Boundary – null",
      "expectedResult": "Throws TypeError or handles gracefully (getElementById returns undefined)",
      "notes": "Error handling for undefined DOM element (tested in browser environment)"
    },
    {
      "caseId": "TC-E-03",
      "inputPrecondition": "Provider initialized, updateButtonState called with running=true but classList.add fails",
      "perspective": "Equivalence – error",
      "expectedResult": "Error is handled gracefully, button text still updates to '✨ テスト作成中 (中断)'",
      "notes": "Error handling for classList.add failure (tested in browser environment with mocked classList)"
    },
    {
      "caseId": "TC-E-04",
      "inputPrecondition": "Provider initialized, updateButtonState called with running=false but classList.remove fails",
      "perspective": "Equivalence – error",
      "expectedResult": "Error is handled gracefully, button text still updates to 'テスト生成'",
      "notes": "Error handling for classList.remove failure (tested in browser environment with mocked classList)"
    },
    {
      "caseId": "TC-B-01",
      "inputPrecondition": "Provider initialized, updateButtonState called with running=true immediately after running=false",
      "perspective": "Boundary – state transition",
      "expectedResult": "Button state transitions correctly, class is added, running state check exists",
      "notes": "Rapid state transition from false to true"
    },
    {
      "caseId": "TC-B-02",
      "inputPrecondition": "Provider initialized, updateButtonState called with running=false immediately after running=true",
      "perspective": "Boundary – state transition",
      "expectedResult": "Button state transitions correctly, class is removed",
      "notes": "Rapid state transition from true to false"
    },
    {
      "caseId": "TC-B-03",
      "inputPrecondition": "Provider initialized, updateButtonState called multiple times with running=true",
      "perspective": "Boundary – idempotency",
      "expectedResult": "Button state remains consistent, no duplicate classes added (classList.add is idempotent)",
      "notes": "Multiple calls with same state should be safe"
    },
    {
      "caseId": "TC-B-04",
      "inputPrecondition": "Provider initialized, updateButtonState called multiple times with running=false",
      "perspective": "Boundary – idempotency",
      "expectedResult": "Button state remains consistent, no errors when removing non-existent class (classList.remove is safe)",
      "notes": "Multiple calls with same state should be safe"
    },
    {
      "caseId": "TC-B-05",
      "inputPrecondition": "Provider initialized, animation duration set to 0s",
      "perspective": "Boundary – zero",
      "expectedResult": "Animation still defined but executes instantly (CSS accepts 0s duration)",
      "notes": "0s duration is valid CSS but not used in current implementation"
    },
    {
      "caseId": "TC-B-06",
      "inputPrecondition": "Provider initialized, animation duration set to very large value (999999s)",
      "perspective": "Boundary – max",
      "expectedResult": "Animation still defined and executes (CSS accepts large duration values)",
      "notes": "Very large values are not used in current implementation but CSS accepts them"
    },
    {
      "caseId": "TC-B-07",
      "inputPrecondition": "Provider initialized, HTML contains emoji character in button text",
      "perspective": "Equivalence – normal",
      "expectedResult": "Emoji character is correctly encoded in HTML with UTF-8 charset declaration",
      "notes": "UTF-8 encoding should handle emoji correctly"
    },
    {
      "caseId": "TC-B-08",
      "inputPrecondition": "Provider initialized, stateUpdate message received with isRunning=true",
      "perspective": "Equivalence – normal",
      "expectedResult": "updateButtonState is called with true, button shows running state",
      "notes": "Message handler correctly processes stateUpdate with isRunning=true"
    },
    {
      "caseId": "TC-B-09",
      "inputPrecondition": "Provider initialized, stateUpdate message received with isRunning=false",
      "perspective": "Equivalence – normal",
      "expectedResult": "updateButtonState is called with false, button shows default state",
      "notes": "Message handler correctly processes stateUpdate with isRunning=false"
    },
    {
      "caseId": "TC-B-10",
      "inputPrecondition": "Provider initialized, background-size set to 200% auto",
      "perspective": "Equivalence – normal",
      "expectedResult": "Gradient background animates correctly with shimmer effect, background-size: 200% auto, @keyframes shimmer defined",
      "notes": "Validates background animation setup for shimmer effect"
    }
  ]
}
<!-- END TEST PERSPECTIVES JSON -->
